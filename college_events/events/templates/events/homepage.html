{% extends 'events/base.html' %}
{% load static %}

{% block title %}CollegeEvents — Discover Amazing College Events{% endblock %}
{% block meta_description %}Discover, register, and attend exciting college events. Your one-stop platform for all
campus activities.{% endblock %}

{% block content %}

<!-- ══════════════ HERO ══════════════ -->
<section class="hero position-relative">
    <div class="container hero-content-layer">
        <div class="row align-items-center">
            <div class="col-lg-6" data-aos="fade-up">
                <span class="badge badge-primary mb-3 hero-super-badge">✨ Elite College Experience</span>
                <h1 class="hero-huge-title">Discover <span class="text-gradient-brand">Amazing</span><br>College Events
                </h1>
                <p class="lead hero-lead-text">Join exciting events, technical workshops, and cultural competitions.
                    Connect with your peers and be part of something extraordinary!</p>
                <div class="hero-buttons mt-5">
                    <a href="{% url 'event_list' %}" class="btn btn-primary btn-spl-hover">
                        <i class="fas fa-calendar-alt mr-2"></i> Browse Events
                    </a>
                    <a href="{% url 'about' %}" class="btn btn-outline-primary ml-3 btn-spl-glass">Learn More</a>
                </div>

                <!-- Live stats pulled from DB -->
                <div class="hero-stats-premium mt-5">
                    <div class="row text-center">
                        <div class="col-4 stat-block">
                            <h3 class="stat-num">{{ total_events }}+</h3>
                            <p class="stat-label">Total Events</p>
                        </div>
                        <div class="col-4 stat-block stat-border-left">
                            <h3 class="stat-num">{{ total_registrations }}+</h3>
                            <p class="stat-label">Registrations</p>
                        </div>
                        <div class="col-4 stat-block stat-border-left">
                            <h3 class="stat-num">{{ upcoming_count }}</h3>
                            <p class="stat-label">Upcoming</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-6 mt-5 mt-lg-0 position-relative" data-aos="fade-left" data-aos-delay="200">
                <div class="hero-image-wrapper" data-tilt data-tilt-max="10" data-tilt-speed="400"
                    data-tilt-perspective="1000">
                    <div class="hero-image-glow-backdrop"></div>
                    <img src="{% static 'events/premium-students.png' %}" alt="Students at college events"
                        class="img-fluid hero-image-premium">
                    <div class="floating-badge badge-1">
                        <i class="fas fa-star text-warning"></i> Top Rated
                    </div>
                    <div class="floating-badge badge-2">
                        <i class="fas fa-users text-primary"></i> 5k+ Members
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="hero-wave-bottom">
        <svg data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 120" preserveAspectRatio="none">
            <path
                d="M321.39,56.44c58-10.79,114.16-30.13,172-41.86,82.39-16.72,168.19-17.73,250.45-.39C823.78,31,906.67,72,985.66,92.83c70.05,18.48,146.53,26.09,214.34,3V0H0V27.35A600.21,600.21,0,0,0,321.39,56.44Z"
                class="shape-fill"></path>
        </svg>
    </div>
</section>

<!-- ══════════════ QUICK NAVIGATION CARDS ══════════════ -->
<!-- Explore Section -->
<section style="padding: 80px 0;">
    <div class="container">
        <div class="text-center mb-5" data-aos="fade-up">
            <span class="badge badge-primary mb-4"
                style="background:linear-gradient(135deg,#6366f1,#ec4899);color:#fff;padding:12px 24px;border-radius:50px;font-weight:700;font-size:13px;text-transform:uppercase;letter-spacing:1px;">Explore</span>
            <h2 class="section-title" style="margin-bottom:40px;">What Would You Like To Do?</h2>
            <p style="color:#64748b; font-size:17px; max-width:600px; margin:20px auto 0;">
                Each section is just one click away
            </p>
        </div>
        <div class="row">
            <!-- Upcoming Events Card -->
            <div class="col-md-6 col-lg-3 mb-4" data-aos="fade-up" data-aos-delay="100">
                <a href="{% url 'event_list' %}" style="text-decoration:none;">
                    <div class="premium-glass-card shadow-hover" data-tilt data-tilt-max="15" data-tilt-speed="400"
                        data-tilt-glare="true" data-tilt-max-glare="0.2"
                        style="padding:40px 28px; text-align:center; transform-style: preserve-3d;">
                        <div
                            style="width:70px;height:70px;background:linear-gradient(135deg,#6366f1,#818cf8);border-radius:20px;display:flex;align-items:center;justify-content:center;margin:0 auto 20px; box-shadow:0 10px 20px rgba(99,102,241,0.2);">
                            <i class="fas fa-calendar-alt" style="font-size:28px;color:#fff;"></i>
                        </div>
                        <h5 class="card-title">Upcoming Events</h5>
                        <p class="text-muted" style="font-size:14px;margin-bottom:16px;">Browse and register for
                            {{upcoming_count}} upcoming events</p>
                        <span
                            style="color:#6366f1;font-weight:700;font-size:13px;text-transform:uppercase;letter-spacing:1px;">View
                            Events →</span>
                    </div>
                </a>
            </div>

            <!-- Completed Events Card -->
            <div class="col-md-6 col-lg-3 mb-4" data-aos="fade-up" data-aos-delay="150">
                <a href="{% url 'completed_events' %}" style="text-decoration:none;">
                    <div class="premium-glass-card shadow-hover" data-tilt data-tilt-max="15" data-tilt-speed="400"
                        data-tilt-glare="true" data-tilt-max-glare="0.2"
                        style="padding:40px 28px; text-align:center; transform-style: preserve-3d;">
                        <div
                            style="width:70px;height:70px;background:linear-gradient(135deg,#10b981,#34d399);border-radius:20px;display:flex;align-items:center;justify-content:center;margin:0 auto 20px; box-shadow:0 10px 20px rgba(16,185,129,0.2);">
                            <i class="fas fa-check-circle" style="font-size:28px;color:#fff;"></i>
                        </div>
                        <h5 class="card-title">Completed Events</h5>
                        <p class="text-muted" style="font-size:14px;margin-bottom:16px;">Relive {{completed_count}} past
                            events and memories</p>
                        <span
                            style="color:#10b981;font-weight:700;font-size:13px;text-transform:uppercase;letter-spacing:1px;">View
                            History →</span>
                    </div>
                </a>
            </div>

            <!-- About Card -->
            <div class="col-md-6 col-lg-3 mb-4" data-aos="fade-up" data-aos-delay="200">
                <a href="{% url 'about' %}" style="text-decoration:none;">
                    <div class="premium-glass-card shadow-hover" data-tilt data-tilt-max="15" data-tilt-speed="400"
                        data-tilt-glare="true" data-tilt-max-glare="0.2"
                        style="padding:40px 28px; text-align:center; transform-style: preserve-3d;">
                        <div
                            style="width:70px;height:70px;background:linear-gradient(135deg,#f59e0b,#fcd34d);border-radius:20px;display:flex;align-items:center;justify-content:center;margin:0 auto 20px; box-shadow:0 10px 20px rgba(245,158,11,0.2);">
                            <i class="fas fa-info-circle" style="font-size:28px;color:#fff;"></i>
                        </div>
                        <h5 class="card-title">About Us</h5>
                        <p class="text-muted" style="font-size:14px;margin-bottom:16px;">Learn about our platform and
                            its mission</p>
                        <span
                            style="color:#f59e0b;font-weight:700;font-size:13px;text-transform:uppercase;letter-spacing:1px;">Learn
                            More →</span>
                    </div>
                </a>
            </div>

            <!-- Contact Card -->
            <div class="col-md-6 col-lg-3 mb-4" data-aos="fade-up" data-aos-delay="250">
                <a href="{% url 'contact' %}" style="text-decoration:none;">
                    <div class="premium-glass-card shadow-hover" data-tilt data-tilt-max="15" data-tilt-speed="400"
                        data-tilt-glare="true" data-tilt-max-glare="0.2"
                        style="padding:40px 28px; text-align:center; transform-style: preserve-3d;">
                        <div
                            style="width:70px;height:70px;background:linear-gradient(135deg,#ec4899,#f472b6);border-radius:20px;display:flex;align-items:center;justify-content:center;margin:0 auto 20px; box-shadow:0 10px 20px rgba(236,72,153,0.2);">
                            <i class="fas fa-envelope" style="font-size:28px;color:#fff;"></i>
                        </div>
                        <h5 class="card-title">Contact Us</h5>
                        <p class="text-muted" style="font-size:14px;margin-bottom:16px;">Got questions? We're here to
                            help</p>
                        <span
                            style="color:#ec4899;font-weight:700;font-size:13px;text-transform:uppercase;letter-spacing:1px;">Get
                            In Touch →</span>
                    </div>
                </a>
            </div>
        </div>
    </div>
</section>

<!-- ══════════════ FEATURED UPCOMING EVENTS TEASER ══════════════ -->
{% if featured_events %}
<!-- Featured Events Section -->
<section style="padding: 80px 0;">
    <div class="container">
        <div class="text-center mb-5" data-aos="fade-up">
            <span class="badge badge-primary mb-4"
                style="background:var(--gradient-brand);color:#fff;padding:12px 24px;border-radius:50px;font-weight:700;font-size:13px;text-transform:uppercase;letter-spacing:1px;">Don't
                Miss Out</span>
            <h2 class="section-title" style="margin-bottom:40px;">Happening Soon</h2>
            <p class="text-muted" style="font-size:16px; margin-top:20px;">A sneak peek at upcoming events</p>
        </div>
        <div class="row justify-content-center">
            {% for ev in featured_events %}
            <div class="col-md-4 mb-4" data-aos="fade-up" data-aos-delay="{{forloop.counter0}}00">
                <div class="premium-glass-card shadow-hover">
                    <div class="event-image-container" style="height:200px;">
                        <img src="{{ev.get_image_url}}" alt="{{ev.name}}" class="event-img-zoom">
                        <div class="event-overlay-gradient"></div>
                        <span class="event-status-pill">UPCOMING</span>
                    </div>
                    <div class="card-body event-card-content" style="padding:28px;">
                        <h5 class="event-title-premium" style="font-size:20px;">{{ev.name}}</h5>
                        <p class="event-desc-premium" style="font-size:14px;">{{ev.description|truncatechars:100}}</p>
                        <div class="event-details-grid" style="gap:10px;">
                            <div class="detail-item" style="font-size:13px;"><i class="fas fa-calendar-alt"></i>
                                {{ev.date|date:"d M Y"}}</div>
                            <div class="detail-item" style="font-size:13px;"><i class="fas fa-map-marker-alt"></i>
                                {{ev.venue}}</div>
                        </div>
                        <a href="{% url 'event_list' %}" class="btn btn-save-premium btn-sm mt-4 w-100"
                            style="padding:10px; font-size:12px;">Register Now</a>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
        <div class="text-center mt-5" data-aos="fade-up">
            <a href="{% url 'event_list' %}" class="btn btn-save-premium">
                View All Upcoming Events <i class="fas fa-arrow-right ml-2"></i>
            </a>
        </div>
    </div>
</section>
{% endif %}

<!-- ══════════════ FEATURES ══════════════ -->
<section class="features-section premium-features bg-light-gradient">
    <div class="container">
        <div class="text-center mb-5" data-aos="fade-up">
            <span class="badge badge-primary mb-4 hero-super-badge"
                style="background:var(--gradient-brand); padding:10px 20px;">OUR
                PLATFORM</span>
            <h2 class="section-title huge-section-title text-gradient-brand" style="margin-bottom:40px;">Why
                CollegeEvents?</h2>
            <p class="text-muted modern-subtitle" style="margin-top:20px;">The most advanced platform for your campus
                life</p>
        </div>
        <div class="row mt-5 justify-content-center">
            <div class="col-md-4 mb-4" data-aos="fade-up" data-aos-delay="100">
                <div class="feature-card premium-glass-card hover-lift text-center" data-tilt data-tilt-max="10"
                    data-tilt-speed="400" data-tilt-perspective="1000"
                    style="padding: 40px 30px; height: 100%; transform-style: preserve-3d;">
                    <div class="feature-icon-wrapper mb-4 mx-auto"
                        style="width: 80px; height: 80px; background: linear-gradient(135deg, rgba(99,102,241,0.1), rgba(236,72,153,0.1)); border-radius: 24px; display: flex; align-items: center; justify-content: center;">
                        <i class="fas fa-ticket-alt"
                            style="font-size: 32px; background: var(--gradient-brand); -webkit-background-clip: text; background-clip: text; -webkit-text-fill-color: transparent;"></i>
                    </div>
                    <h3
                        style="font-family: 'Outfit', sans-serif; font-weight: 700; margin-bottom: 15px; font-size: 22px;">
                        Easy Registration</h3>
                    <p class="text-muted" style="font-size: 15px; line-height: 1.6;">Quick and simple event registration
                        with instant digital ticket generation and unique verifiable QR codes directly to your
                        dashboard.</p>
                </div>
            </div>
            <div class="col-md-4 mb-4" data-aos="fade-up" data-aos-delay="200">
                <div class="feature-card premium-glass-card hover-lift text-center shadow-lg" data-tilt
                    data-tilt-max="10" data-tilt-speed="400" data-tilt-perspective="1000"
                    style="padding: 40px 30px; height: 100%; transform: translateY(-15px); border: 1px solid rgba(99,102,241,0.3); transform-style: preserve-3d;">
                    <div class="feature-icon-wrapper mb-4 mx-auto"
                        style="width: 80px; height: 80px; background: linear-gradient(135deg, rgba(16,185,129,0.1), rgba(52,211,153,0.1)); border-radius: 24px; display: flex; align-items: center; justify-content: center;">
                        <i class="fas fa-bell" style="font-size: 32px; color: #10b981;"></i>
                    </div>
                    <h3
                        style="font-family: 'Outfit', sans-serif; font-weight: 700; margin-bottom: 15px; font-size: 22px;">
                        Stay Updated</h3>
                    <p class="text-muted" style="font-size: 15px; line-height: 1.6;">Never miss an event. Get real-time
                        personalized dashboard tracking for deadlines, announcements, and critical campus updates.</p>
                </div>
            </div>
            <div class="col-md-4 mb-4" data-aos="fade-up" data-aos-delay="300">
                <div class="feature-card premium-glass-card hover-lift text-center" data-tilt data-tilt-max="10"
                    data-tilt-speed="400" data-tilt-perspective="1000"
                    style="padding: 40px 30px; height: 100%; transform-style: preserve-3d;">
                    <div class="feature-icon-wrapper mb-4 mx-auto"
                        style="width: 80px; height: 80px; background: linear-gradient(135deg, rgba(245,158,11,0.1), rgba(252,211,77,0.1)); border-radius: 24px; display: flex; align-items: center; justify-content: center;">
                        <i class="fas fa-users" style="font-size: 32px; color: #f59e0b;"></i>
                    </div>
                    <h3
                        style="font-family: 'Outfit', sans-serif; font-weight: 700; margin-bottom: 15px; font-size: 22px;">
                        Community</h3>
                    <p class="text-muted" style="font-size: 15px; line-height: 1.6;">Build your professional and social
                        network. Connect immediately with ambitious students, accomplished alumni, and leading faculty
                        members.</p>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block extra_js %}
<!-- Vanilla Tilt JS for stunning 3D hover effects -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/vanilla-tilt/1.8.0/vanilla-tilt.min.js"
    integrity="sha512-RX/OFugIG/bWtx037R/YvpA1O52iEqNItiRVZ3E1kO09O1B/7j5ssp1xY6X1b0B9p0iX1H/3I7T0XgN1VqDQA=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script>
    // Parallax sub-elements for deeper 3D effect
    document.querySelectorAll('.premium-glass-card i, .premium-glass-card .feature-icon-wrapper').forEach(el => {
        el.style.transform = "translateZ(30px)";
    });
    document.querySelectorAll('.premium-glass-card h5, .premium-glass-card h3').forEach(el => {
        el.style.transform = "translateZ(20px)";
    });
</script>
{% endblock %}